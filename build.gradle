apply plugin: 'groovy'
apply plugin: 'idea'

version = '0.7-SNAPSHOT-ALTERED'
group = 'com.augusttechgroup'
def artifact = 'gradle-liquibase-plugin'

configurations { 
  deployment
  published.extendsFrom archives, signatures
}

repositories {
  mavenLocal()
  mavenCentral()
}

dependencies {
  groovy 'org.codehaus.groovy:groovy:1.8.6'
  compile gradleApi()
  deployment "org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-7"
  compile 'org.liquibase:liquibase-core:2.0.3'
  runtime 'com.augusttechgroup:groovy-liquibase-dsl:0.7.3'
}

jar {
  baseName = artifact
}

task wrapper(type: Wrapper) { 
  gradleVersion = '1.0'
}


task sourceJar(type: Jar) {
  description = 'An archive of the source code for Maven Central'
  baseName = artifact
  classifier = 'sources'
  from sourceSets.main.groovy
}


task groovydocJar(type: Jar, dependsOn: groovydoc) {
  description = 'An archive of the GroovyDocs for Maven Central'
  baseName = artifact
  classifier = 'javadoc'
  from fileTree(groovydoc.destinationDir)
}

artifacts { 
  archives groovydocJar, sourceJar
}

